<!DOCTYPE html>
<html>
<head>
  <title>OpenLayers Package Test</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@9.2.4/ol.css" />
  <style>
    #map { width: 800px; height: 600px; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script type="importmap">
    {
      "imports": {
        "ol": "https://esm.sh/ol@9.2.4",
        "ol/": "https://esm.sh/ol@9.2.4/",
        "ol-pmtiles": "https://esm.sh/ol-pmtiles@1.0.2",
        "pmtiles": "https://esm.sh/pmtiles@3.2.0",
        "@india-boundary-corrector/data": "/packages/data/index.js",
        "@india-boundary-corrector/layer-configs": "/packages/layer-configs/src/index.js",
        "@india-boundary-corrector/openlayers": "/packages/openlayers/src/index.js"
      }
    }
  </script>
  <script type="module">
    import Map from 'ol/Map';
    import View from 'ol/View';
    import TileLayer from 'ol/layer/Tile';
    import XYZ from 'ol/source/XYZ';
    import OSM from 'ol/source/OSM';
    import { fromLonLat } from 'ol/proj';
    import { 
      BoundaryCorrector, 
      addBoundaryCorrector, 
      removeBoundaryCorrector,
      layerConfigs,
      getPmtilesUrl
    } from '@india-boundary-corrector/openlayers';
    
    // Expose for testing
    window.olPackage = {
      BoundaryCorrector,
      addBoundaryCorrector,
      removeBoundaryCorrector,
      layerConfigs,
      getPmtilesUrl
    };
    
    window.ol = {
      Map,
      View,
      TileLayer,
      XYZ,
      OSM,
      fromLonLat
    };
    
    window.openlayersLoaded = true;
  </script>
</body>
</html>
